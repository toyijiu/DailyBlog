#C++ Primer学习笔记-第二章-变量和基本类型

------

##类型相关

- 基本类型除了常用的char、int、long等，还有像wchar_t,char16_t,char32_t（char16和char32主要用于unicode）,long long等。一般float是32位，double是64位
- 基本类型还分signed和unsigned，signed用最高位bit表示正负性
- 将0赋给bool性自动转化成false，非0转化成true。
- 赋给一个无符号类型的值超出范围时，它会取对应的bit数对应的值。赋给带符号类型一个超出它范围的值时，结果是未定义的。关于后面这个结果未定义的问题，我在VS2010上试了一下，发现变量还是会取对应bit数的码流，再以最高位为符号位，码流为补码来认值。
- 特别要注意含无符号类型的表达式可能潜在的类型替换，比如int和unsigned的计算，就会默认把int转换成unsigned的类型，导致结果出错。所以不要混用有符号和无符号类型
```cpp
int main(){
	unsigned a = 10;
	int b = -42;
	cout<<a+b<<endl;
	return 0;
}
//输出结果为4294967264，是不对的
```
- 无符号数和有符号数要特别注意超范围导致的数值溢出翻转等问题
- 字面值常量默认十进制，以0开头的表示8进制，0x开头的表示16进制
- 字符串字面值的类型本质上试由常量字符构成的字符数组，末尾加'\0',

##对象
- 对象本质上是一块能存储数据并具有某种类型的内存空间
- 初始化不是赋值，初始化时再创建变量时赋予其一个初始值，赋值时把对象的当前值擦掉，用一个新值来代替。初始化的形式有多种,**其中用花括号来初始化时C++11新标准全面应用的，这种初始化方式叫做列表初始化**

```cpp
#include<iostream>

using namespace std;

int main()
{
	int a = 0;
	int b = { 0 };
	int c(0);
	int d{ 0 }; //C++11 新增的花括号初始化格式，已在VS2015中测试通过
	return 0;
}
```

- 默认初始化问题，在任何函数外定义的变量都会初始化0，函数内的局部变量由于是在堆栈中，未初始化的话就是随机值。**所以最好还是都要初始化一下**

------

##练习
###练习